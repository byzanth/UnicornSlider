/*
 *      \
 *       \
 *        \\
 *         \\
 *          >\/7
 *      _.-(o'  \
 *     (=___._/` \               jQuery unicornslider v1.0
 *          )  \ }               @license Open source under the MIT License.
 *         /   / {               Copyright 2016 Nils Kreutzer
 *        /    > {               mail: nilskreutzer@hotmail.com
 *       j    < _ \              web: unicornslider.sagaverse.com
 *   _.-' :      ``.
 *   \ r=._\        `.
 *  <`\\_  \         .`-.
 *   \ r-7  `-. ._  ' .  `\
 *    \`,      `-.`7  7)   )
 *     \/         \|  \'  / }
 *                ||    .'  {{
 *                 \\  (     )}}
 *                  >\  >
 *               ,.-' >.'
 *              <.'_.''
 *               <'
 */
!function(e){e.unicornslider=function(t,i){var n=e(t);n.vars=e.extend({},e.unicornslider.defaults,i);var s,r,a,o,c,l,d,m,p=n.vars.namespace,h={};e.data(t,"unicornslider",n);var h={init:function(){n.oldHtml,n.cleanup=!1,n.animating=!1,n.wrapAround=n.vars.wrapAround,n.leanWrapper=n.vars.leanWrapper,n.defaultEasing="swing",n.direction="next",n.mode="mobile",n.animationMethod="js",n.style=n.vars.style,n.centerActive="on",n.scrollItems=n.vars.scrollItems,n.current=n.vars.startFrom,n.displacement=0,n.displacementIndex=0,n.centerActiveDisplacement=0,n.centerActiveDisplacementIndex=0,n.activeItemWidth=0,n.activeItemHeight=0,n.itemsVisible=n.vars.visibleItems,n.parentWidth=0,n.viewportHeight=0,n.viewportWidth=0,n.wrapperHeight=0,n.wrapperWidth=0,n.buttonHeight=n.vars.buttonHeight,n.buttonWidth=n.vars.buttonWidth,n.mm={swipeTreshold:100,allowedTime:300},h.setup(),h.sanitizeConfiguration(),h.setDataAttributes(),h.registerEventHandlers(),h.resize(),h.log("unicornslider initialized"),n.vars.init(n)},setDataAttributes:function(){a.each(function(t){e(this).attr("data-index",t)}),n.attr("data-display",n.vars.orientation)},getInactiveItems:function(){var t=[];return a.each(function(i){i!==n.current&&t.push(e(this))}),t},getActiveItem:function(){return a.siblings(".active")},getClones:function(){return n.find("."+p+"item.clone")},createClones:function(){e(a.get().reverse()).each(function(){if("vertical"===n.vars.orientation){var t=parseInt(e(this).css("top"),10);e(this).clone().css("top",t-n.wrapperHeight).addClass("clone").prependTo(e("."+p+"wrapper",n))}else{var t=parseInt(e(this).css("left"),10);e(this).clone().css("left",t-n.wrapperWidth).addClass("clone").prependTo(e("."+p+"wrapper",n))}}),a.each(function(){if("vertical"===n.vars.orientation){var t=parseInt(e(this).css("top"),10);e(this).clone().css("top",t+n.wrapperHeight).addClass("clone").appendTo(e("."+p+"wrapper",n))}else{var t=parseInt(e(this).css("left"),10);e(this).clone().css("left",t+n.wrapperWidth).addClass("clone").appendTo(e("."+p+"wrapper",n))}}),n.cleanup=!0},killClones:function(){r.find("."+p+"item.clone").remove()},isVisible:function(e,t,i){return i>0-t&&e>i?!0:!1},replaceVisibleClones:function(){var t=h.getClones();t.each(function(){var t=e(this).attr("data-index");if("vertical"===n.vars.orientation){var i=parseInt(e(this).css("top"),10);h.isVisible(n.viewportHeight,n.items[t].height,i)===!0&&(a.siblings("[data-index="+t+"]").css("top",i),e(this).remove())}else{var s=parseInt(e(this).css("left"),10);h.isVisible(n.viewportWidth,n.items[t].width,s)===!0&&(a.siblings("[data-index="+t+"]").css("left",s),e(this).remove())}})},cleanUp:function(){return n.cleanup!==!0?!1:(n.cleanup=!1,void setTimeout(function(){n.animating=!1,n.removeClass("animating"),"css"===n.animationMethod&&a.css("-webkit-transition-duration","").css("-moz-transition-duration","").css("-o-transition-duration","").css("transition-duration",""),h.replaceVisibleClones(),h.killClones(),h.log("unicornslider animation ended"),n.vars.animationEnd(n)},100))},calculateDisplacement:function(e){n.displacementIndex="next"===n.direction?n.displacementIndex+e:n.displacementIndex-e,n.displacement=0;for(var t=1;e>=t;t++)if("next"===n.direction){var i=n.current+t;n.items.hasOwnProperty(i)||(i-=a.length),n.displacement-="vertical"===n.vars.orientation?n.items[i].height:n.items[i].width}else{var i=n.current-t;n.items.hasOwnProperty(i)||(i+=a.length),n.displacement+="vertical"===n.vars.orientation?n.items[i].height:n.items[i].width}return n.displacement},calculateDelta:function(e){var t=h.getTarget(e),i=h.calculateMinimalDelta(t);return i},animateToTarget:function(t){if(n.animating===!0)return!0;n.animating=!0,n.addClass("animating");var i=h.calculateDelta(t);if(0===i)return n.animating=!1,!0;if(("on"===n.centerActive||"mobile"===n.mode&&"mobile"===n.centerActive||"desktop"===n.mode&&"desktop"===n.centerActive)&&h.clearActive(),h.log("unicornslider animation started"),n.vars.animationStart(n),"css"===n.animationMethod&&a.css("-webkit-transition-duration",parseInt(n.vars.speed)/1e3+"s").css("-moz-transition-duration",parseInt(n.vars.speed)/1e3+"s").css("-o-transition-duration",parseInt(n.vars.speed)/1e3+"s").css("transition-duration",parseInt(n.vars.speed)/1e3+"s"),h.createClones(),h.calculateDisplacement(i),"css"===n.animationMethod){var r=n.find("."+p+"item");"vertical"===n.vars.orientation?(s.css("height",n.viewportHeight),r.each(function(){var t=parseInt(e(this).css("top"),10),i=t+n.displacement;e(this).css("top",i),setTimeout(function(){h.cleanUp()},n.vars.speed)})):(s.css("width",n.viewportWidth),r.each(function(){var t=parseInt(e(this).css("left"),10),i=t+n.displacement;e(this).css("left",i),setTimeout(function(){h.cleanUp()},n.vars.speed)}))}else{var r=n.find("."+p+"item");"vertical"===n.vars.orientation?(s.animate({height:n.viewportHeight},n.vars.speed,n.vars.easing),r.each(function(){var t=parseInt(e(this).css("top"),10),i=t+n.displacement;e(this).animate({top:i},n.vars.speed,n.vars.easing,function(){h.cleanUp()})})):(s.animate({width:n.viewportWidth},n.vars.speed,n.vars.easing),r.each(function(){var t=parseInt(e(this).css("left"),10),i=t+n.displacement;e(this).animate({left:i},n.vars.speed,n.vars.easing,function(){h.cleanUp()})}))}("on"===n.centerActive||"mobile"===n.mode&&"mobile"===n.centerActive||"desktop"===n.mode&&"desktop"===n.centerActive)&&h.setActive(t),h.manageButtonVisibility()},setActive:function(e){var t=h.getTarget(e);t>=a.length?t-=a.length:0>t&&(t+=a.length),n.current=t,a.siblings("."+p+"item[data-index="+t+"]").addClass("active")},clearActive:function(){a.removeClass("active")},resetItemMeasurements:function(){var t=0,i=0,s=n.current;for(n.items={},a.each(function(t){n.items[t]={},n.items[t].width=e(this).outerWidth(!0),n.items[t].height=e(this).outerHeight(!0),n.items[t].displacement=0}),i=0;i<a.length;i++)n.items.hasOwnProperty(s)||n.items.hasOwnProperty(s-a.length)&&(s-=a.length),n.items[s].displacement=t,t+="vertical"===n.vars.orientation?n.items[s].height:n.items[s].width,s++},getActiveItemMeasurements:function(){var e;for(e=0;e<a.length;e++)e===n.current&&(n.activeItemHeight=n.items[e].height,n.activeItemWidth=n.items[e].width)},calculateModuleDimensions:function(){var t=0,i=n.current;if(n.wrapperHeight=0,n.wrapperWidth=0,n.viewportWidth=0,n.viewportHeight=0,n.parentWidth=n.outerWidth(!0)-2*n.buttonWidth,n.itemsVisible=n.vars.visibleItems,"vertical"===n.vars.orientation){for(t=0;t<a.length;t++)n.wrapperHeight+=n.items[t].height,n.items[t].width>n.viewportWidth&&(n.viewportWidth=n.items[t].width,n.wrapperWidth=n.items[t].width);for(t=0;t<n.vars.visibleItems;t++)n.items.hasOwnProperty(i)||n.items.hasOwnProperty(i-a.length)&&(i-=a.length),n.viewportHeight+=n.items[i].height,i++}else{for(t=0;t<a.length;t++)n.wrapperWidth+=n.items[t].width,n.items[t].height>n.viewportHeight&&(n.viewportHeight=n.items[t].height,n.wrapperHeight=n.items[t].height);for(t=0;t<n.vars.visibleItems;t++)n.items.hasOwnProperty(i)||n.items.hasOwnProperty(i-a.length)&&(i-=a.length),e.isEmptyObject(n.items)||(n.parentWidth>=n.viewportWidth+n.items[i].width?n.viewportWidth+=n.items[i].width:n.activeItemWidth>n.parentWidth?(n.viewportWidth=n.activeItemWidth,n.itemsVisible=1,t=n.vars.visibleItems):(n.itemsVisible=t,t=n.vars.visibleItems)),i++;if(!h.isOdd(n.itemsVisible)&&n.itemsVisible>1&&"off"!==n.centerActive)for(n.itemsVisible=n.itemsVisible-1,n.viewportWidth=0,t=0;t<n.itemsVisible;t++)n.viewportWidth+=n.items[t].width;n.vars.scrollItems>n.itemsVisible&&(n.scrollItems=n.itemsVisible)}},calculateItemDisplacement:function(){var e,t=0,i=n.current;if(n.centerActiveDisplacementIndex=0,n.centerActiveDisplacement=0,!h.isOdd(n.itemsVisible))return!1;if(e=(n.itemsVisible-1)/2,n.centerActiveDisplacementIndex=e,e>0)for(t=0;e>t;t++){if(!n.items.hasOwnProperty(i)){if(!n.items.hasOwnProperty(i+a.length))return!1;i+=a.length}n.centerActiveDisplacement+="vertical"===n.vars.orientation?n.items[i].height:n.items[i].width,i-=1}for(t=0;t<a.length;t++)n.items[t].displacement="vertical"===n.vars.orientation?n.items[t].displacement+n.centerActiveDisplacement>=n.wrapperHeight?n.items[t].displacement+n.centerActiveDisplacement-n.wrapperHeight:n.items[t].displacement+n.centerActiveDisplacement<0?n.items[t].displacement+n.centerActiveDisplacement+n.wrapperHeight:n.items[t].displacement+n.centerActiveDisplacement:n.items[t].displacement+n.centerActiveDisplacement>=n.wrapperWidth?n.items[t].displacement+n.centerActiveDisplacement-n.wrapperWidth:n.items[t].displacement+n.centerActiveDisplacement<0?n.items[t].displacement+n.centerActiveDisplacement+n.wrapperWidth:n.items[t].displacement+n.centerActiveDisplacement},resize:function(){h.resetItemMeasurements(),h.getActiveItemMeasurements(),h.calculateModuleDimensions(),h.calculateItemDisplacement(),h.updateDisplayMode(),h.updateCss(),h.setActive(n.current),h.manageButtonVisibility()},manageButtonVisibility:function(){var e=(n.itemsVisible-1)/2;n.wrapAround===!0?(d.css("display","block"),m.css("display","block")):"desktop"===n.mode?(d.css("display","none"),m.css("display","none")):(n.current-e<=0?d.css("display","none"):d.css("display","block"),n.current+e>=a.length-1?m.css("display","none"):m.css("display","block"))},updateDisplayMode:function(){n.mode="vertical"===n.vars.orientation?n.viewportHeight===n.wrapperHeight?"desktop":"mobile":n.viewportWidth===n.wrapperWidth?"desktop":"mobile"},keydownHandler:function(e){switch(e.which){case 37:case 38:h.animateToTarget("prev");break;case 39:case 40:h.animateToTarget("next");break;default:return}},isOdd:function(e){return e%2===1},sanitizeConfiguration:function(){e.easing.hasOwnProperty(n.vars.easing)||(n.vars.easing=n.defaultEasing),n.vars.visibleItems>a.length&&(n.vars.visibleItems=a.length,n.itemsVisible=a.length),n.vars.visibleItems<=0&&(n.vars.visibleItems=1,n.itemsVisible=1),("on"===n.vars.centerActive||"off"===n.vars.centerActive||"mobile"===n.vars.centerActive||"desktop"===n.vars.centerActive)&&(n.centerActive=n.vars.centerActive),h.isOdd(n.vars.visibleItems)||"off"===n.centerActive||(n.vars.visibleItems=n.vars.visibleItems-1,n.itemsVisible=n.vars.visibleItems),(n.vars.startFrom>=a.length||n.vars.startFrom<0)&&(n.vars.startFrom=0,n.current=0),"undefined"!=typeof Modernizr?Modernizr.csstransitions===!0&&(n.animationMethod="css"):h.supportsTransitions()&&(n.animationMethod="css"),n.vars.wrapAround!==!0&&n.vars.wrapAround!==!1&&(n.wrapAround=!0),0!==n.vars.speed&&"css"===n.animationMethod&&s.css("-webkit-transition-duration",parseInt(n.vars.speed)/1e3+"s").css("-moz-transition-duration",parseInt(n.vars.speed)/1e3+"s").css("-o-transition-duration",parseInt(n.vars.speed)/1e3+"s").css("transition-duration",parseInt(n.vars.speed)/1e3+"s"),n.scrollItems>n.itemsVisible&&(n.scrollItems=n.itemsVisible)},unregisterEventHandlers:function(){n.off("keydown",h.keydownHandler),m.off("click touchstart touchend",h.next),d.off("click touchstart touchend",h.prev),a.off("click touchstart touchend",h.activate),s.off("touchstart",h.touchStart),s.off("touchmove",h.touchMove),s.off("touchend",h.touchEnd),e(window).off("resize orientationchange focus",h.resize)},registerEventHandlers:function(){n.on("keydown",h.keydownHandler),m.on("click touchstart touchend",h.next),d.on("click touchstart touchend",h.prev),a.on("click touchstart touchend",h.activate),s.on("touchstart",h.touchStart),s.on("touchmove",h.touchMove),s.on("touchend",h.touchEnd),e(window).on("resize orientationchange focus",h.resize)},supportsTransitions:function(){var e=document.body||document.documentElement,t=e.style,i="transition";if("string"==typeof t[i])return!0;var n=["Moz","webkit","Webkit","Khtml","O","ms"];i=i.charAt(0).toUpperCase()+i.substr(1);for(var s=0;s<n.length;s++)if("string"==typeof t[n[s]+i])return!0;return!1},updateCss:function(){r.css("width",n.wrapperWidth).css("height",n.wrapperHeight),a.each(function(t){"vertical"===n.vars.orientation?e(this).css("top",n.items[t].displacement):e(this).css("left",n.items[t].displacement)}),s.css("width",n.viewportWidth).css("height",n.viewportHeight),"vertical"===n.vars.orientation?n.css("min-height",n.viewportHeight).css("width",n.activeItemWidth):(n.css("min-width",n.activeItemWidth+2*n.buttonWidth),n.leanWrapper===!0&&n.css("max-width",n.viewportWidth+2*n.buttonWidth))},log:function(e){return n.vars.debug!==!0?!1:(e||(e="undefined"),void(window.console&&console.log&&"function"==typeof console.log&&console.log(e)))},next:function(e){e.preventDefault(),n.vars.button(n),h.animateToTarget("next"),h.log("unicornslider animate to next")},prev:function(e){e.preventDefault(),n.vars.button(n),h.animateToTarget("prev"),h.log("unicornslider animate to prev")},calculateMinimalDelta:function(e){var t=Math.abs(n.current-e);return Math.abs(n.current+a.length-e)<t?t=Math.abs(n.current+a.length-e):Math.abs(n.current-(e+a.length))<t&&(t=Math.abs(n.current-(e+a.length))),t},getTarget:function(e){if("next"===e||"down"===e)return n.direction="next",n.current+n.scrollItems<=a.length?n.current+n.scrollItems:n.current+n.scrollItems-a.length;if("prev"===e||"up"===e)return n.direction="prev",n.current-n.scrollItems>=0?n.current-n.scrollItems:a.length-Math.abs(n.current-n.scrollItems);if(h.isInt(e)){if(e>=0&&e<a.length){var t=h.calculateMinimalDelta(e);return n.direction=0>n.current-t&&2*t<a.length&&n.current+t!==e&&e>n.current||e<n.current&&0<=n.current-t&&n.current-t===e?"prev":"next",e}return e%=a.length,0>e&&(e=a.length-e),n.direction=e<n.current?"prev":"next",e}return 0},isInt:function(e){return"number"==typeof e&&e%1===0},touchStart:function(e){if(void 0===e.originalEvent.touches)var t=e;else var t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];n.mm.ox=t.pageX,n.mm.oy=t.pageY,n.mm.startTime=(new Date).getTime()},touchMove:function(){},touchEnd:function(e){if(void 0===e.originalEvent.touches)var t=e;else var t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];n.mm.dx=t.pageX-n.mm.ox,n.mm.dy=t.pageY-n.mm.oy,n.mm.endTime=(new Date).getTime()-n.mm.startTime,"vertical"===n.vars.orientation?n.mm.dy<-n.mm.swipeTreshold&&n.mm.endTime<n.mm.allowedTime?n.itemsVisible+n.current<a.length&&h.next():n.mm.dy>n.mm.swipeTreshold&&n.mm.endTime<n.mm.allowedTime&&n.itemsVisible>0&&h.prev():n.mm.dx<-n.mm.swipeTreshold&&n.mm.endTime<n.mm.allowedTime?n.itemsVisible+n.current<a.length&&h.next():n.mm.dx>n.mm.swipeTreshold&&n.mm.endTime<n.mm.allowedTime&&n.current>0&&h.prev()},setup:function(){n.oldHtml=n.clone(),r=n.clone().find("ul").addClass(p+"wrapper"),s=e("<div></div>").addClass(p+"viewport"),a=r.find("li").addClass(p+"item"),d=e("<a></a>").addClass(p+"prev").attr("href","#").css("height",n.buttonHeight).css("width",n.buttonWidth).html(n.vars.prevText),m=e("<a></a>").addClass(p+"next").attr("href","#").css("height",n.buttonHeight).css("width",n.buttonWidth).html(n.vars.nextText),c=e("<li></li>").addClass(p+"nav-prev"),l=e("<li></li>").addClass(p+"nav-next"),"vertical"===n.vars.orientation?(d.css("margin-left","-"+Math.round(n.buttonWidth/2)+"px"),m.css("margin-left","-"+Math.round(n.buttonWidth/2)+"px"),c.css("height",n.buttonHeight),l.css("height",n.buttonHeight)):(d.css("margin-top","-"+Math.round(n.buttonHeight/2)+"px"),m.css("margin-top","-"+Math.round(n.buttonHeight/2)+"px"),c.css("width",n.buttonWidth),l.css("width",n.buttonWidth)),o=e("<ul></ul>").addClass(p+"nav").attr("aria-hidden",!0).append(c.append(d)).append(l.append(m)),s.append(r),n.empty().addClass("unicornslider").attr("tabindex",0).addClass(n.style).append(s).append(o)},destroy:function(){n.oldHtml.insertAfter(n),n.methods.unregisterEventHandlers(),n.removeData("unicornslider"),n.remove(),h.log("UnicornSlider destroyed"),n.vars.destroyed(n)},activate:function(t){var i=e(t.target).closest("."+p+"item[data-index]"),s=parseInt(i.attr("data-index"),10);return s===n.current?!0:"off"===n.centerActive||"mobile"===n.mode&&"desktop"===n.centerActive||"desktop"===n.mode&&"mobile"===n.centerActive?!0:(h.animateToTarget(s),void h.log("unicornslider animate to "+s))}};n.animate=function(e){h.log("unicornslider animate to "+e),h.animateToTarget(e)},n.next=function(){h.log("unicornslider animate to next"),h.animateToTarget("next")},n.prev=function(){h.log("unicornslider animate to prev"),h.animateToTarget("prev")},n.resize=function(){h.log("unicornslider resizing"),h.resize()},n.destroy=function(){h.log("unicornslider destroy"),h.destroy()},h.init()},e.unicornslider.defaults={debug:!1,wrapAround:!0,leanWrapper:!1,orientation:"horizontal",namespace:"unicornslider-",easing:"swing",prevText:"prev",nextText:"next",style:"",centerActive:"on",scrollItems:1,buttonHeight:50,buttonWidth:50,visibleItems:1,speed:1e3,startFrom:0,init:function(){},button:function(){},animationStart:function(){},animationEnd:function(){},destroyed:function(){}},e.fn.unicornslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var i=e(this);void 0===i.data("unicornslider")&&new e.unicornslider(this,t)});var i=e(this).data("unicornslider");switch(t){case"start":i.start();break;case"stop":i.stop();break;case"destroy":i.destroy();break;case"next":case"down":i.next();break;case"prev":case"up":i.prev();break;default:"number"==typeof t&&i.animate(t)}}}(jQuery);